 Starting schema query with detailed logging...
üß™ Testing basic Snowflake connection...
üîÑ Executing Snowflake query: SELECT CURRENT_DATABASE(), CURRENT_SCHEMA(), CURRENT_USER()...
üîÑ Creating Snowflake connection...
Account: LFQSQQP-VBC22871
Username: mpatrikios
Warehouse: SNOWFLAKE_LEARNING_WH
Role: SYSADMIN
‚ùå Basic connection test failed: Error: Test query timeout
    at Timeout._onTimeout (/home/runner/workspace/server/services/metrics-ai.ts:41:33)
    at listOnTimeout (node:internal/timers:581:17)
    at process.processTimers (node:internal/timers:519:7)
Error getting schema info: Error: Basic connection failed: Test query timeout
    at MetricsAIService.getSchemaInfo (/home/runner/workspace/server/services/metrics-ai.ts:50:15)
    at async MetricsAIService.defineMetric (/home/runner/workspace/server/services/metrics-ai.ts:172:20)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:1293:26)
Falling back to static schema information...
7:59:11 PM [express] POST /api/metrics/ai/define 200 in 8965ms :: {"name":"Annual Revenue","descript‚Ä¶
=== Dashboard metrics data request ===
Time period filter: Monthly View
Found 3 metrics for dashboard
Processing metric: Annual Revenue (ID: 1) for period: Monthly View
Calculating dashboard data for metric 1, period Monthly View
No SQL template found for metric: Annual Revenue, using fallback data
Dashboard data for metric Annual Revenue: 100000 from dashboard calculation (Monthly View)
Processing metric: Monthly Deal Value (ID: 2) for period: Monthly View
Calculating dashboard data for metric 2, period Monthly View
No SQL template found for metric: Monthly Deal Value, using fallback data
Dashboard data for metric Monthly Deal Value: 100000 from dashboard calculation (Monthly View)
Processing metric: Monthly Expenses (ID: 3) for period: Monthly View
Calculating dashboard data for metric 3, period Monthly View
Executing SQL query: 
        SELECT SUM(amount) as value
        FROM expense_data 
        WHERE date_trunc('month', expense_date) = date_trunc('month', current_date())
      
Query failed: 002003 (42S02): SQL compilation error:
Object 'EXPENSE_DATA' does not exist or not authorized.
Query failed for metric 3, using fallback data
Dashboard data for metric Monthly Expenses: 57000 from dashboard calculation (Monthly View)
7:59:19 PM [express] GET /api/dashboard/metrics-data 200 in 1708ms :: [{"metricId":1,"currentValue":‚Ä¶
