> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

‚úì Loaded 3 metrics from persistent storage
Airbyte config: {
  serverUrl: 'https://api.airbyte.com/v1',
  clientId: '***6d30c13f***',
  clientSecret: '***set***',
  workspaceId: 'bc926a02-3f86-446a-84cb-740d9a13caef',
  hasCredentials: true
}
Azure OpenAI credentials not found. Chatbot will use fallback responses.
8:15:12 PM [express] serving on port 5000
Browserslist: browsers data (caniuse-lite) is 8 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
8:15:15 PM [express] GET /api/setup-status 200 in 3ms :: {"id":1,"snowflakeConnected":false,"fivetra‚Ä¶
=== Dashboard metrics data request ===
Time period filter: Monthly View
Found 3 metrics for dashboard
Processing metric: Annual Revenue (ID: 1) for period: Monthly View
Calculating dashboard data for metric 1, period Monthly View
No SQL template found for metric: Annual Revenue, using fallback data
Dashboard data for metric Annual Revenue: 100000 from dashboard calculation (Monthly View)
Processing metric: Monthly Deal Value (ID: 2) for period: Monthly View
Calculating dashboard data for metric 2, period Monthly View
No SQL template found for metric: Monthly Deal Value, using fallback data
Dashboard data for metric Monthly Deal Value: 100000 from dashboard calculation (Monthly View)
Processing metric: Monthly Expenses (ID: 3) for period: Monthly View
Calculating dashboard data for metric 3, period Monthly View
Executing SQL query: 
        SELECT SUM(amount) as value
        FROM expense_data 
        WHERE date_trunc('month', expense_date) = date_trunc('month', current_date())
      
8:15:15 PM [express] GET /api/kpi-metrics 304 in 5ms :: [{"name":"Annual Revenue","description":"Tot‚Ä¶
8:15:15 PM [express] GET /api/pipeline-activities 304 in 5ms :: []
Query failed: 002003 (42S02): SQL compilation error:
Object 'EXPENSE_DATA' does not exist or not authorized.
Query failed for metric 3, using fallback data
Dashboard data for metric Monthly Expenses: 57000 from dashboard calculation (Monthly View)
8:15:18 PM [express] GET /api/dashboard/metrics-data 200 in 2531ms :: [{"metricId":1,"currentValue":‚Ä¶
8:15:27 PM [express] GET /api/kpi-metrics 304 in 1ms :: [{"name":"Annual Revenue","description":"Tot‚Ä¶
8:15:27 PM [express] GET /api/setup-status 200 in 0ms :: {"id":1,"snowflakeConnected":false,"fivetra‚Ä¶
üîÑ Starting comprehensive schema discovery...
üîç Starting comprehensive schema discovery...
‚úÖ Successfully discovered 17 tables via Python
‚úÖ Successfully discovered 17 tables
üìã Table: MIAS_DATA_DB.CORE.CORE_HUBSPOT_CALLS (6 columns, 6036 rows)
üìã Table: MIAS_DATA_DB.CORE.CORE_HUBSPOT_DEALS (7 columns, 3105 rows)
üìã Table: MIAS_DATA_DB.CORE.CORE_QUICKBOOKS_EXPENSES (5 columns, 88 rows)
üìã Table: MIAS_DATA_DB.CORE.CORE_QUICKBOOKS_REVENUE (6 columns, 7796 rows)
üìã Table: MIAS_DATA_DB.CORE.JIRA_ISSUE_TYPES (13 columns, 6 rows)
üìã Table: MIAS_DATA_DB.CORE.JIRA_PRIORITIES (9 columns, 5 rows)
üìã Table: MIAS_DATA_DB.CORE.JIRA_PROJECTS (23 columns, 1 rows)
üìã Table: MIAS_DATA_DB.CORE.JIRA_STATUSES (11 columns, 4 rows)
üìã Table: MIAS_DATA_DB.CORE.JIRA_USERS (10 columns)
üìã Table: MIAS_DATA_DB.CORE.CHAT_MESSAGES (8 columns)
üìã Table: MIAS_DATA_DB.CORE.COMPANIES (6 columns, 1 rows)
üìã Table: MIAS_DATA_DB.CORE.DATA_SOURCES (9 columns)
üìã Table: MIAS_DATA_DB.CORE.KPI_METRICS (12 columns)
üìã Table: MIAS_DATA_DB.CORE.PIPELINE_ACTIVITIES (7 columns)
üìã Table: MIAS_DATA_DB.CORE.SETUP_STATUS (9 columns)
üìã Table: MIAS_DATA_DB.CORE.SQL_MODELS (9 columns)
üìã Table: MIAS_DATA_DB.CORE.USERS (6 columns)
8:15:37 PM [express] POST /api/metrics/ai/define 200 in 8188ms :: {"name":"Annual Revenue","descript‚Ä¶
=== Dashboard metrics data request ===
Time period filter: Monthly View
Found 3 metrics for dashboard
Processing metric: Annual Revenue (ID: 1) for period: Monthly View
Calculating dashboard data for metric 1, period Monthly View
No SQL template found for metric: Annual Revenue, using fallback data
Dashboard data for metric Annual Revenue: 100000 from dashboard calculation (Monthly View)
Processing metric: Monthly Deal Value (ID: 2) for period: Monthly View
Calculating dashboard data for metric 2, period Monthly View
No SQL template found for metric: Monthly Deal Value, using fallback data
Dashboard data for metric Monthly Deal Value: 100000 from dashboard calculation (Monthly View)
Processing metric: Monthly Expenses (ID: 3) for period: Monthly View
Calculating dashboard data for metric 3, period Monthly View
Executing SQL query: 
        SELECT SUM(amount) as value
        FROM expense_data 
        WHERE date_trunc('month', expense_date) = date_trunc('month', current_date())
      
Query failed: 002003 (42S02): SQL compilation error:
Object 'EXPENSE_DATA' does not exist or not authorized.
Query failed for metric 3, using fallback data
Dashboard data for metric Monthly Expenses: 57000 from dashboard calculation (Monthly View)
8:16:19 PM [express] GET /api/dashboard/metrics-data 200 in 1492ms :: [{"metricId":1,"currentValue":‚Ä¶
